import{r as n,j as e,W as b,y,Y as w}from"./app-q7_d2GI8.js";import{S as C}from"./SettingIcon-B6-k9aB6.js";import{D as O,r as S,I as F,F as _,g as D,E as j}from"./AuthenticatedLayout-BjESaR1s.js";import{S as o,D as x}from"./StatsItem-DpLM0EvH.js";import{u as g}from"./index.esm-uYwQKCgO.js";import{D as a}from"./Disclose-Bm7P4gSW.js";import{u as k,M as R,S as E}from"./Swal-Bgtby3ly.js";import{B as p}from"./Button-D6tEkGe5.js";import{T as N}from"./TrashIcon-BGu98XQa.js";import{I as M}from"./InputError-DXLYkPBa.js";import{F as v}from"./PlusIcon-CfiJbgEX.js";import{F as T}from"./ChevronRightIcon-BlxYI4wc.js";import{C as u}from"./Currency-aex9UVd6.js";import{F as I}from"./MagnifyingGlassIcon-ctqFqaNy.js";function L({title:s,titleId:t,...r},l){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":t},r),s?n.createElement("title",{id:t},s):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const A=n.forwardRef(L),f={test:"TEST",medication:"MEDICATION",appointment:"appointment"};function U({...s}){return e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:[e.jsx("g",{clipPath:"url(#clip0_3840_4479)",children:e.jsx("path",{d:"M10.6676 10.6666L8.00095 7.99995M8.00095 7.99995L5.33428 10.6666M8.00095 7.99995V13.9999M13.5943 12.2599C14.2445 11.9055 14.7582 11.3445 15.0542 10.6657C15.3502 9.98686 15.4118 9.22877 15.2291 8.51107C15.0464 7.79338 14.6299 7.15696 14.0454 6.70225C13.4609 6.24754 12.7415 6.00044 12.001 5.99995H11.161C10.9592 5.21944 10.5831 4.49484 10.0609 3.88061C9.53877 3.26638 8.88418 2.77852 8.14635 2.45369C7.40852 2.12886 6.60665 1.97552 5.80103 2.0052C4.99541 2.03489 4.20699 2.24682 3.49507 2.62506C2.78314 3.0033 2.16622 3.53802 1.6907 4.189C1.21517 4.83999 0.89341 5.59031 0.749603 6.38354C0.605797 7.17678 0.643687 7.9923 0.860426 8.76879C1.07716 9.54528 1.46711 10.2625 2.00095 10.8666",stroke:"#16D671",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_3840_4479",children:e.jsx("rect",{width:"16",height:"16",fill:"white"})})})]})}function z({onChange:s=null}){const[t,r]=n.useState([]),l=i=>{const d=i.currentTarget.files;for(let m=0;m<d.length;m++){const h=d[m];h.preview=URL.createObjectURL(h),r([...t,h])}},c=i=>{i.preventDefault(),r([])};return n.useEffect(()=>{s&&s(t)},[t]),e.jsxs("label",{className:"p-5 min-h-40 flex items-center justify-center border border-dashed border-[#0000001A] rounded-xl",children:[e.jsx(a,{show:t.length<1,children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{children:e.jsx("div",{className:"p-2 bg-[#6768FB0D] rounded-full",children:e.jsx(U,{className:"size-5"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Click to Upload"}),e.jsx("p",{className:"text-muted text-xs",children:"PDF - 10MB max."}),e.jsx("input",{type:"file",hidden:!0,accept:".pdf",onChange:l})]})]})}),e.jsx(a,{show:t.length>0,children:t.map((i,d)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("div",{children:e.jsx("div",{className:"p-2 bg-[#6768FB0D] rounded-full",children:e.jsx(A,{className:"size-6 text-primary"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:i.name}),e.jsxs("p",{className:"text-muted text-xs",children:["Last Modified: ",i.lastModifiedDate.toDateString()]})]})]}),e.jsxs("div",{className:"flex  space-x-3 justify-center",children:[e.jsx(g,{children:e.jsx("a",{href:i.preview,className:"btn btn-light p-1 px-2",children:"Preview"})}),e.jsxs(p,{onClick:c,className:"btn-light p-1 px-2 text-red-600",children:[e.jsx(N,{className:"stroke-red-600"})," Remove"]})]})]},d))})]})}const B=({order:s})=>{var i;const t=k(),r=b({files:[]});function l(){r.post(route("orders.tests.upload",{order:s.order_item_id}),{onSuccess(){t.close(),r.reset()}})}function c(){var d;y.get(route("orders.tests.delete",{order:s.order_item_id,testResult:(d=s.result)==null?void 0:d.id}))}return e.jsxs(e.Fragment,{children:[e.jsxs(a,{show:!s.result,children:[e.jsx("button",{onClick:t.open,className:"inline-flex rounded-lg py-2 px-3 text-primary hover:bg-primary/20 bg-primary/10",children:"Upload result"}),e.jsx(R,{className:"py-0 !max-w-2xl",...t,children:e.jsxs("div",{className:"md:flex md:divide-x",children:[e.jsxs("div",{className:"md:w-1/2 pt-5 md:pe-6",children:[e.jsx("h4",{className:"font-semibold",children:"Complete Order"}),e.jsx("p",{className:"text-muted text-sm",children:"To complete this order upload the test result for patient use"})]}),e.jsxs("div",{className:"md:w-1/2 py-5 md:ps-6 space-y-3",children:[e.jsx("h4",{className:"font-semibold",children:"Upload Test Result"}),e.jsxs("div",{children:[e.jsx(z,{onChange:d=>r.setData("files",d)}),e.jsx(M,{message:r.errors.files})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(p,{onClick:t.close,className:"btn-light",children:"Cancel"}),e.jsxs(p,{className:"btn-primary flex-1",loading:r.processing,onClick:l,children:["Upload test result ",e.jsx(v,{className:"size-4"})]})]})]})]})})]}),e.jsx(a,{show:!!s.result,children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(g,{children:e.jsxs("a",{href:(i=s.result)==null?void 0:i.result,className:"text-primary flex space-x-4 items-center",children:["View Test Result ",e.jsx(T,{className:"size-4"})]})}),e.jsx(E,{onConfirm:c,type:"warning",onClick:c,className:"",children:e.jsx(N,{className:"size-5 stroke-red-600"})})]})})]})};function P({order:s}){return e.jsxs("tr",{children:[e.jsx("td",{children:s.product_name}),e.jsx("td",{children:s.product_type}),e.jsx("td",{children:s.quantity}),e.jsxs("td",{children:[e.jsx(u,{})," ",s.price.toLocaleString()]}),e.jsxs("td",{children:[e.jsx(u,{})," ",(s.price*s.quantity).toLocaleString()]}),e.jsxs("td",{className:"text-left",children:[e.jsx(a,{show:s.product_type==f.medication}),e.jsx(a,{show:s.product_type==f.test,children:e.jsx(B,{order:s})})]})]})}function $({order:s}){const[t,r]=n.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsx("td",{children:s.no}),e.jsx("td",{children:s.order_id}),e.jsx("td",{children:s.user.full_name}),e.jsxs("td",{children:[e.jsx(u,{})," ",s.order_value]}),e.jsx("td",{children:s.status}),e.jsx("td",{children:"8898921"}),e.jsx("td",{children:s.is_order_paid?"Paid":"Unpaid"}),e.jsx("td",{className:"text-left flex gap-2",children:e.jsx("button",{className:"border-2 p-1 bg-white rounded-lg",onClick:()=>r(!t),children:e.jsx(v,{className:"size-4"})})})]}),e.jsx(a,{show:t,children:e.jsx("tr",{children:e.jsxs("td",{colSpan:9,className:"bg-gray-50",children:[e.jsx("div",{className:"mb-2",children:e.jsx("h4",{className:"font-medium",children:"Order Items"})}),e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{children:"Product Name"}),e.jsx("th",{children:"Product Type"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Action"})]}),s.items.map(l=>e.jsx(P,{order:l},l.order_item_id))]})})]})})})]})}function re({orders:s,total:t,completed:r,pending:l,revenue:c}){return e.jsxs(O,{title:"Manage Orders",children:[e.jsx(w,{title:"Manage Orders"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid md:grid-cols-4 grid-cols-2 gap-3 mb-5",children:[e.jsx(o,{title:"Total Orders",amount:t,direction:x.up,percentage:36}),e.jsx(o,{title:"Completed Orders",amount:r,direction:x.up,percentage:36}),e.jsx(o,{title:"Cancelled Orders",amount:l,direction:x.up,percentage:36}),e.jsx(o,{title:"Revenue Generated",amount:c,isPrice:!0,direction:x.up,percentage:36})]}),e.jsxs("div",{className:"card p-0 rounded-xl",children:[e.jsxs("div",{className:"p-4 md:flex space-y-2 md:space-y-0 justify-between",children:[e.jsxs("div",{className:"md:flex space-y-2 md:space-y-0 md:space-x-2",children:[e.jsx("div",{children:e.jsxs(S,{children:[e.jsxs(F,{className:"border-2 p-1 h-full px-3 items-center space-x-1 text-sm rounded-lg inline-flex",children:[e.jsx(C,{className:"size-5"}),e.jsx("span",{className:"font-medium",children:"All Orders"}),e.jsx(_,{className:"size-3"})]}),e.jsxs(D,{transition:!0,anchor:"bottom start",className:"min-w-32 origin-top-right mt-1 rounded-xl border-[1.5px] bg-white transition duration-100 ease-out text-sm",children:[e.jsx("div",{className:"p-1",children:e.jsx(j,{children:e.jsx("button",{className:"inline-flex w-full rounded-lg py-2 px-3 text-muted hover:bg-muted/10",children:"All Orders"})})}),e.jsx("div",{className:"border-t-[1.5px]"}),e.jsx("div",{className:"p-1",children:e.jsx(j,{children:e.jsx("button",{className:"inline-flex w-full rounded-lg py-2 px-3 text-muted hover:bg-muted/10",children:"Ongoing Orders"})})}),e.jsx("div",{className:"border-t-[1.5px]"}),e.jsx("div",{className:"p-1",children:e.jsx(j,{children:e.jsx("button",{className:"inline-flex w-full rounded-lg py-2 px-3 text-muted hover:bg-muted/10",children:"Completed Orders"})})})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative bg-[#F9FAFB] flex items-center border-[#E5E7EB] rounded-lg border-2",children:[e.jsx("div",{className:"px-2",children:e.jsx(I,{className:"size-4 text-muted"})}),e.jsx("input",{type:"text",placeholder:"Search Orders",className:"pl-0 border-0 bg-transparent focus:ring-0 text-sm"})]})})]}),e.jsx("div",{})]}),e.jsx("div",{className:"border-t ml-4"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"border-b",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"S/N"}),e.jsx("th",{children:"Order ID"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Order Date"}),e.jsx("th",{children:"Payment Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s.data.map(i=>e.jsx($,{order:i},i.id))})]})})]})]})]})}export{re as default};
